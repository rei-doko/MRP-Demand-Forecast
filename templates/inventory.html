{% extends "base.html" %}
{% block content %}
<h2>Inventory</h2>

<!-- Form to Add Inventory -->
<form method="post" action="{{ url_for('inventory') }}" class="mb-4">
    <!-- Input for product_id (Must be >= 0) -->
    <div class="mb-3">
        <label class="form-label">Product ID</label>
        <input type="number" name="product_id" min="0" class="form-control" required>
    </div>

    <!-- Input for quantity (Must be >= 0) -->
    <div class="mb-3">
        <label class="form-label">Quantity</label>
        <input type="number" name="quantity" min="0" class="form-control" required>
    </div>
    
    <!-- Submit button to add to Inventory -->
    <button type="submit" class="btn btn-success">Add Inventory</button>
</form>

<!-- Deletion of Materials -->
<form method="post" action="{{ url_for('delete_inventory') }}" id="delete-form">
    <button type="submit" class="btn btn-danger mt-2">Delete Selected</button>

<!-- Displays Inventory Table -->
<table class="table table-bordered">
    <thead>
        <tr>
            <!-- Checkbox column for selecting rows -->
            <th style="width: 1%;"></th>
            <th>Product ID</th>
            <th>Product Name</th>
            <th>Quantity</th>
        </tr>
    </thead>
    <tbody>
        <!-- Loops through all inventory items passed from Flask -->
        {% for i in inventory %}
            <tr>
                <!-- Checkbox linked to delete_ids[] --> 
                <td class="checkbox-cell">
                    <input type="checkbox" name="delete_ids[]" value="{{ i['product_id'] }}">
                </td>
                <!-- Display item details -->
                <td>{{ i['product_id'] }}</td>
                <td>{{ i['product_name'] }}</td>
                <td>{{ i['quantity'] }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}